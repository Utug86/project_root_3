2025-06-16 00:43:22,305 [INFO] [__main__] Initializing HybridRetriever...
2025-06-16 00:43:22,345 [INFO] [__main__] No existing indices found. Building new ones...
2025-06-16 00:43:22,346 [INFO] [__main__] Building new indices...
2025-06-16 00:43:22,347 [INFO] [__main__] Found 3 files to process
2025-06-16 00:43:35,121 [INFO] [__main__] Semantic deduplication: 425 → 281 unique chunks (threshold=0.91)
2025-06-16 00:43:35,171 [INFO] [__main__] Processed Inform_from_site_Auto.xlsx: 169984 words -> 281 unique chunks
2025-06-16 00:43:35,953 [INFO] [__main__] Semantic deduplication: 26 → 26 unique chunks (threshold=0.91)
2025-06-16 00:43:36,017 [INFO] [__main__] Processed Оферта от Альфа-Банка.pdf: 10205 words -> 26 unique chunks
2025-06-16 00:43:36,869 [INFO] [__main__] Semantic deduplication: 17 → 17 unique chunks (threshold=0.91)
2025-06-16 00:43:36,872 [INFO] [__main__] Processed СТОК Альянс Тракс 09.06.2025.pdf: 6505 words -> 17 unique chunks
2025-06-16 00:43:44,022 [INFO] [__main__] Semantic deduplication: 324 → 324 unique chunks (threshold=0.91)
2025-06-16 00:43:44,024 [INFO] [__main__] Total unique chunks after global deduplication: 324
2025-06-16 00:43:44,026 [INFO] [__main__] Generating embeddings...
2025-06-16 00:43:51,623 [INFO] [__main__] Indices built and saved: 324 unique chunks, index type: <class 'faiss.swigfaiss_avx2.IndexFlatL2'>
2025-06-16 00:43:51,650 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T21:43:22.348608', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-16 00:43:51,913 [INFO] [__main__] Telegram bot connection OK
2025-06-16 00:43:51,915 [CRITICAL] [__main__] Unexpected error: object bool can't be used in 'await' expression
2025-06-16 00:43:52,614 [INFO] [__main__] Message posted to Telegram (id=31)
2025-06-16 00:43:52,665 [ERROR] [__main__] Failed to send error notification: object int can't be used in 'await' expression
2025-06-16 00:43:52,674 [INFO] [__main__] Final statistics:
2025-06-16 00:43:52,682 [INFO] [__main__] total_topics: 0
2025-06-16 00:43:52,687 [INFO] [__main__] processed_topics: 0
2025-06-16 00:43:52,692 [INFO] [__main__] failed_topics: 0
2025-06-16 00:43:52,695 [INFO] [__main__] start_time: None
2025-06-16 00:43:52,700 [INFO] [__main__] current_topic: None
2025-06-16 00:43:52,703 [INFO] [__main__] last_error: None
2025-06-16 00:43:52,707 [INFO] [__main__] last_processing_time: None
2025-06-16 00:43:52,710 [INFO] [__main__] total_chars_generated: 0
2025-06-16 00:43:52,714 [INFO] [__main__] avg_chars_per_topic: 0.0
2025-06-16 00:43:52,718 [INFO] [__main__] success_rate: 0
2025-06-16 00:43:52,721 [INFO] [__main__] System shutdown complete
2025-06-16 00:58:45,861 [INFO] [__main__] Loaded usage statistics successfully
2025-06-16 00:59:00,266 [INFO] [__main__] Initializing HybridRetriever...
2025-06-16 00:59:00,318 [INFO] [__main__] Loading indices...
2025-06-16 00:59:00,395 [INFO] [__main__] Loaded 324 chunks
2025-06-16 00:59:00,444 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T21:43:22.348608', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-16 00:59:00,697 [INFO] [__main__] Telegram bot connection OK
2025-06-16 00:59:00,698 [CRITICAL] [__main__] Unexpected error: object bool can't be used in 'await' expression
2025-06-16 00:59:00,918 [INFO] [__main__] Message posted to Telegram (id=32)
2025-06-16 00:59:00,951 [ERROR] [__main__] Failed to send error notification: object int can't be used in 'await' expression
2025-06-16 00:59:00,953 [INFO] [__main__] Final statistics:
2025-06-16 00:59:00,954 [INFO] [__main__] total_topics: 0
2025-06-16 00:59:00,955 [INFO] [__main__] processed_topics: 0
2025-06-16 00:59:00,957 [INFO] [__main__] failed_topics: 0
2025-06-16 00:59:00,958 [INFO] [__main__] start_time: None
2025-06-16 00:59:00,959 [INFO] [__main__] current_topic: None
2025-06-16 00:59:00,960 [INFO] [__main__] last_error: None
2025-06-16 00:59:00,962 [INFO] [__main__] last_processing_time: None
2025-06-16 00:59:00,963 [INFO] [__main__] total_chars_generated: 0
2025-06-16 00:59:00,973 [INFO] [__main__] avg_chars_per_topic: 0.0
2025-06-16 00:59:00,974 [INFO] [__main__] success_rate: 0
2025-06-16 00:59:00,976 [INFO] [__main__] System shutdown complete
2025-06-16 01:06:26,314 [INFO] [__main__] Loaded usage statistics successfully
2025-06-16 01:06:40,136 [INFO] [__main__] Initializing HybridRetriever...
2025-06-16 01:06:40,141 [INFO] [__main__] Loading indices...
2025-06-16 01:06:40,215 [INFO] [__main__] Loaded 324 chunks
2025-06-16 01:06:40,261 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T21:43:22.348608', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-16 01:06:40,538 [INFO] [__main__] Telegram bot connection OK
2025-06-16 01:06:40,609 [CRITICAL] [__main__] Unexpected error: object bool can't be used in 'await' expression
2025-06-16 01:06:40,861 [INFO] [__main__] Message posted to Telegram (id=33)
2025-06-16 01:06:40,862 [ERROR] [__main__] Failed to send error notification: object int can't be used in 'await' expression
2025-06-16 01:06:40,864 [INFO] [__main__] Final statistics:
2025-06-16 01:06:40,865 [INFO] [__main__] total_topics: 0
2025-06-16 01:06:40,866 [INFO] [__main__] processed_topics: 0
2025-06-16 01:06:40,867 [INFO] [__main__] failed_topics: 0
2025-06-16 01:06:40,868 [INFO] [__main__] start_time: None
2025-06-16 01:06:40,869 [INFO] [__main__] current_topic: None
2025-06-16 01:06:40,870 [INFO] [__main__] last_error: None
2025-06-16 01:06:40,871 [INFO] [__main__] last_processing_time: None
2025-06-16 01:06:40,872 [INFO] [__main__] total_chars_generated: 0
2025-06-16 01:06:40,873 [INFO] [__main__] avg_chars_per_topic: 0.0
2025-06-16 01:06:40,874 [INFO] [__main__] success_rate: 0
2025-06-16 01:06:40,875 [INFO] [__main__] System shutdown complete
2025-06-16 01:23:24,801 [INFO] [__main__] Loaded usage statistics successfully
2025-06-16 01:23:38,654 [INFO] [__main__] Initializing HybridRetriever...
2025-06-16 01:23:38,657 [INFO] [__main__] Loading indices...
2025-06-16 01:23:38,731 [INFO] [__main__] Loaded 324 chunks
2025-06-16 01:23:38,780 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T21:43:22.348608', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-16 01:23:39,029 [INFO] [__main__] Telegram bot connection OK
2025-06-16 01:23:39,030 [CRITICAL] [__main__] Unexpected error: object bool can't be used in 'await' expression
2025-06-16 01:23:39,234 [INFO] [__main__] Message posted to Telegram (id=34)
2025-06-16 01:23:39,279 [ERROR] [__main__] Failed to send error notification: object int can't be used in 'await' expression
2025-06-16 01:23:39,281 [INFO] [__main__] Final statistics:
2025-06-16 01:23:39,282 [INFO] [__main__] total_topics: 0
2025-06-16 01:23:39,283 [INFO] [__main__] processed_topics: 0
2025-06-16 01:23:39,284 [INFO] [__main__] failed_topics: 0
2025-06-16 01:23:39,285 [INFO] [__main__] start_time: None
2025-06-16 01:23:39,286 [INFO] [__main__] current_topic: None
2025-06-16 01:23:39,287 [INFO] [__main__] last_error: None
2025-06-16 01:23:39,288 [INFO] [__main__] last_processing_time: None
2025-06-16 01:23:39,289 [INFO] [__main__] total_chars_generated: 0
2025-06-16 01:23:39,290 [INFO] [__main__] avg_chars_per_topic: 0.0
2025-06-16 01:23:39,291 [INFO] [__main__] success_rate: 0
2025-06-16 01:23:39,292 [INFO] [__main__] System shutdown complete
2025-06-16 02:09:08,757 [CRITICAL] [__main__] Unexpected error: name 'os' is not defined
Traceback (most recent call last):
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\main.py", line 345, in run
    self.setup_paths()
    ~~~~~~~~~~~~~~~~^^
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\main.py", line 118, in setup_paths
    if not os.access(self.topics_file, os.R_OK):
           ^^
NameError: name 'os' is not defined. Did you forget to import 'os'?
2025-06-16 02:09:08,768 [INFO] [__main__] Final statistics:
2025-06-16 02:09:08,770 [INFO] [__main__] total_topics: 0
2025-06-16 02:09:08,771 [INFO] [__main__] processed_topics: 0
2025-06-16 02:09:08,773 [INFO] [__main__] failed_topics: 0
2025-06-16 02:09:08,774 [INFO] [__main__] start_time: None
2025-06-16 02:09:08,776 [INFO] [__main__] current_topic: None
2025-06-16 02:09:08,777 [INFO] [__main__] last_error: None
2025-06-16 02:09:08,779 [INFO] [__main__] last_processing_time: None
2025-06-16 02:09:08,780 [INFO] [__main__] total_chars_generated: 0
2025-06-16 02:09:08,782 [INFO] [__main__] avg_chars_per_topic: 0.0
2025-06-16 02:09:08,783 [INFO] [__main__] success_rate: 0
2025-06-16 02:09:08,785 [INFO] [__main__] System shutdown complete
2025-06-16 02:10:13,653 [INFO] [__main__] Initializing HybridRetriever...
2025-06-16 02:10:13,678 [INFO] [__main__] No existing indices found. Build required.
2025-06-16 02:10:13,679 [INFO] [__main__] Building new indices...
2025-06-16 02:10:13,681 [INFO] [__main__] Found 3 files to process
2025-06-16 02:10:25,289 [INFO] [__main__] Semantic deduplication: 425 → 281 unique chunks (threshold=0.91)
2025-06-16 02:10:25,309 [INFO] [__main__] Processed Inform_from_site_Auto.xlsx: 169984 words -> 281 unique chunks
2025-06-16 02:10:26,083 [INFO] [__main__] Semantic deduplication: 26 → 26 unique chunks (threshold=0.91)
2025-06-16 02:10:26,094 [INFO] [__main__] Processed Оферта от Альфа-Банка.pdf: 10205 words -> 26 unique chunks
2025-06-16 02:10:26,941 [INFO] [__main__] Semantic deduplication: 17 → 17 unique chunks (threshold=0.91)
2025-06-16 02:10:26,943 [INFO] [__main__] Processed СТОК Альянс Тракс 09.06.2025.pdf: 6505 words -> 17 unique chunks
2025-06-16 02:10:34,050 [INFO] [__main__] Semantic deduplication: 324 → 324 unique chunks (threshold=0.91)
2025-06-16 02:10:34,052 [INFO] [__main__] Total unique chunks after global deduplication: 324
2025-06-16 02:10:34,055 [INFO] [__main__] Generating embeddings...
2025-06-16 02:10:41,796 [INFO] [__main__] Indices built and saved: 324 unique chunks, index type: <class 'faiss.swigfaiss_avx2.IndexFlatL2'>
2025-06-16 02:10:41,823 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T23:10:13.682288', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-16 02:10:53,068 [INFO] [__main__] Telegram bot connection OK
2025-06-16 02:10:53,080 [INFO] [__main__] System initialized successfully
2025-06-16 02:10:53,091 [INFO] [__main__] Loaded 30 remaining topics
2025-06-16 02:10:53,101 [INFO] [__main__] Processing topic 1/30: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный
2025-06-16 02:10:53,112 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 02:11:00,209 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 02:11:00,284 [ERROR] [__main__] ProcessingError: Failed to process topic СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный: LMClient.generate() got an unexpected keyword argument 'max_chars'
Traceback (most recent call last):
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\main.py", line 273, in process_single_topic
    text = await self.lm.generate(
                 ~~~~~~~~~~~~~~~~^
        topic,
        ^^^^^^
        max_chars=max_chars
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
TypeError: LMClient.generate() got an unexpected keyword argument 'max_chars'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\main.py", line 208, in process_topics
    text_length = await self.process_single_topic(topic)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\main.py", line 299, in process_single_topic
    raise ProcessingError(f"Failed to process topic {topic}: {e}")
utils.exceptions.ProcessingError: Failed to process topic СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный: LMClient.generate() got an unexpected keyword argument 'max_chars'
2025-06-16 18:28:14,496 [INFO] [__main__] Initializing HybridRetriever...
2025-06-16 18:28:14,499 [INFO] [__main__] Loading indices...
2025-06-16 18:28:14,576 [INFO] [__main__] Loaded 324 chunks
2025-06-16 18:28:14,611 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T23:10:13.682288', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-16 18:28:14,893 [INFO] [__main__] Telegram bot connection OK
2025-06-16 18:28:14,895 [INFO] [__main__] System initialized successfully
2025-06-16 18:28:14,897 [INFO] [__main__] Loaded 30 remaining topics
2025-06-16 18:28:14,898 [INFO] [__main__] Processing topic 1/30: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный
2025-06-16 18:28:14,899 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 18:28:20,519 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 18:28:20,529 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 18:28:26,102 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 18:43:26,242 [ERROR] [__main__] Timeout in attempt 1: 
2025-06-16 18:58:29,252 [ERROR] [__main__] Timeout in attempt 2: 
2025-06-16 19:13:32,248 [ERROR] [__main__] Timeout in attempt 3: 
2025-06-16 19:13:34,813 [INFO] [__main__] Message posted to Telegram (id=36)
2025-06-16 19:13:34,817 [INFO] [__main__] Successfully processed topic: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный, text length: 48
2025-06-16 19:31:51,455 [INFO] [__main__] Initializing HybridRetriever...
2025-06-16 19:31:51,510 [INFO] [__main__] Loading indices...
2025-06-16 19:31:51,579 [INFO] [__main__] Loaded 324 chunks
2025-06-16 19:31:51,641 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T23:10:13.682288', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-16 19:32:02,929 [INFO] [__main__] Telegram bot connection OK
2025-06-16 19:32:02,931 [INFO] [__main__] System initialized successfully
2025-06-16 19:32:02,934 [INFO] [__main__] Loaded 30 remaining topics
2025-06-16 19:32:02,935 [INFO] [__main__] Processing topic 1/30: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный
2025-06-16 19:32:02,937 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 19:32:08,308 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 19:32:08,321 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 19:32:13,616 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-16 19:57:14,242 [ERROR] [__main__] Timeout in attempt 1: 
2025-06-16 20:20:42,894 [INFO] [__main__] Generated text length: 6402 chars
2025-06-16 20:21:03,958 [ERROR] [__main__] Failed to send text message: Telegram API request failed after 3 attempts: 400 Client Error: Bad Request for url: https://api.telegram.org/bot8055017751:AAFPMu-oZs7UHzMqiM0O0o5MOaa9_ulCOr4/sendMessage
Traceback (most recent call last):
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\rag_telegram.py", line 43, in wrapper
    return func(*args, **kwargs)
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\rag_telegram.py", line 88, in _post
    resp.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Опять он за компом\AppData\Roaming\Python\Python313\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api.telegram.org/bot8055017751:AAFPMu-oZs7UHzMqiM0O0o5MOaa9_ulCOr4/sendMessage

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\rag_telegram.py", line 121, in send_text
    resp = self._post("sendMessage", data)
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\rag_telegram.py", line 50, in wrapper
    raise TelegramError(f"Telegram API request failed after {max_retries} attempts: {last_exc}") from last_exc
utils.exceptions.TelegramError: Telegram API request failed after 3 attempts: 400 Client Error: Bad Request for url: https://api.telegram.org/bot8055017751:AAFPMu-oZs7UHzMqiM0O0o5MOaa9_ulCOr4/sendMessage

2025-06-16 20:21:03,969 [ERROR] [__main__] ProcessingError: Failed to process topic СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный: Failed to send text to Telegram
Traceback (most recent call last):
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\main.py", line 289, in process_single_topic
    raise ProcessingError("Failed to send text to Telegram")
utils.exceptions.ProcessingError: Failed to send text to Telegram

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\main.py", line 208, in process_topics
    text_length = await self.process_single_topic(topic)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Games\Post_Telegram_RAG_LM_Studio\Post_Telegram_RAG_LM_Studio_World\project_root_3\main.py", line 299, in process_single_topic
    raise ProcessingError(f"Failed to process topic {topic}: {e}")
utils.exceptions.ProcessingError: Failed to process topic СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный: Failed to send text to Telegram
2025-06-17 10:38:06,258 [INFO] [__main__] Initializing HybridRetriever...
2025-06-17 10:38:06,288 [INFO] [__main__] Loading indices...
2025-06-17 10:38:06,482 [INFO] [__main__] Loaded 324 chunks
2025-06-17 10:38:06,520 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T23:10:13.682288', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-17 10:38:06,803 [INFO] [__main__] Telegram bot connection OK
2025-06-17 10:38:06,805 [INFO] [__main__] System initialized successfully
2025-06-17 10:38:06,807 [INFO] [__main__] Loaded 30 remaining topics
2025-06-17 10:38:06,808 [INFO] [__main__] Processing topic 1/30: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный
2025-06-17 10:38:06,810 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 10:38:13,894 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 10:38:13,908 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 10:38:19,457 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 10:38:20,307 [ERROR] [__main__] LLM request error in attempt 1: LLM API error: HTTP 404
2025-06-17 10:38:23,557 [ERROR] [__main__] LLM request error in attempt 2: LLM API error: HTTP 404
2025-06-17 10:38:26,409 [ERROR] [__main__] LLM request error in attempt 3: LLM API error: HTTP 404
2025-06-17 10:38:28,762 [INFO] [__main__] Message part 1/1 posted to Telegram (id=37)
2025-06-17 10:38:28,768 [INFO] [__main__] Successfully processed topic: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный, text length: 48
2025-06-17 10:40:50,760 [INFO] [__main__] Initializing HybridRetriever...
2025-06-17 10:40:50,778 [INFO] [__main__] Loading indices...
2025-06-17 10:40:50,848 [INFO] [__main__] Loaded 324 chunks
2025-06-17 10:40:50,898 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T23:10:13.682288', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-17 10:41:02,429 [INFO] [__main__] Telegram bot connection OK
2025-06-17 10:41:02,431 [INFO] [__main__] System initialized successfully
2025-06-17 10:41:02,433 [INFO] [__main__] Loaded 30 remaining topics
2025-06-17 10:41:02,434 [INFO] [__main__] Processing topic 1/30: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный
2025-06-17 10:41:02,437 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 10:41:08,083 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 10:41:08,102 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 10:41:13,734 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 11:05:08,261 [INFO] [__main__] Generated text length: 6652 chars
2025-06-17 11:05:19,777 [INFO] [__main__] Message part 1/2 posted to Telegram (id=38)
2025-06-17 11:05:35,107 [INFO] [__main__] Message part 2/2 posted to Telegram (id=39)
2025-06-17 11:05:35,109 [INFO] [__main__] Successfully processed topic: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный, text length: 6652
2025-06-17 13:48:15,011 [INFO] [__main__] Initializing HybridRetriever...
2025-06-17 13:48:15,013 [INFO] [__main__] Loading indices...
2025-06-17 13:48:15,088 [INFO] [__main__] Loaded 324 chunks
2025-06-17 13:48:15,143 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T23:10:13.682288', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-17 13:48:15,475 [INFO] [__main__] Telegram bot connection OK
2025-06-17 13:48:15,519 [INFO] [__main__] System initialized successfully
2025-06-17 13:48:15,522 [INFO] [__main__] Loaded 30 remaining topics
2025-06-17 13:48:15,524 [INFO] [__main__] Processing topic 1/30: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный
2025-06-17 13:48:15,525 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 13:48:20,987 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 13:48:21,014 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 13:48:26,547 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 14:02:06,195 [INFO] [__main__] Generated text length: 3761 chars
2025-06-17 14:02:17,919 [INFO] [__main__] Message part 1/1 posted to Telegram (id=40) | meta_info: {'filtered_thoughts': True, 'filtered_llm_text': True, 'html_escaped': True}
2025-06-17 14:02:17,979 [INFO] [__main__] Successfully processed topic: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный, text length: 3761
2025-06-17 14:26:05,148 [INFO] [__main__] Initializing HybridRetriever...
2025-06-17 14:26:05,150 [INFO] [__main__] Loading indices...
2025-06-17 14:26:05,219 [INFO] [__main__] Loaded 324 chunks
2025-06-17 14:26:05,281 [INFO] [__main__] Index metadata: {'index_signature': '2de2ff0aee8e1ec108d6e0bb3b3f7e89128bbdd1a48aa65fbcb9b4e8a4c33572', 'version': '1.2', 'emb_model': 'all-MiniLM-L6-v2', 'cross_model': 'cross-encoder/stsb-roberta-large', 'chunk_size': 500, 'overlap': 100, 'created_at': '2025-06-15T23:10:13.682288', 'num_chunks': 324, 'inform_dir': 'inform'}
2025-06-17 14:26:05,561 [INFO] [__main__] Telegram bot connection OK
2025-06-17 14:26:05,633 [INFO] [__main__] System initialized successfully
2025-06-17 14:26:05,636 [INFO] [__main__] Loaded 30 remaining topics
2025-06-17 14:26:05,638 [INFO] [__main__] Processing topic 1/30: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный
2025-06-17 14:26:05,639 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 14:26:10,938 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 14:26:10,957 [INFO] [__main__] Retrieving context for query: 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 14:26:16,174 [INFO] [__main__] Retrieved 2 chunks from index for query 'СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный'
2025-06-17 14:39:09,952 [INFO] [__main__] Generated text length: 3399 chars
2025-06-17 14:39:22,527 [INFO] [__main__] Message part 1/1 posted to Telegram (id=41) | meta_info: {'filtered_thoughts': True, 'removed_markdown_table': True, 'filtered_llm_text': True, 'html_escaped': True}
2025-06-17 14:39:22,529 [INFO] [__main__] Successfully processed topic: СПЕЦТЕХНИКА ДЛЯ СТРОИТЕЛЬСТВА: Выбор экскаватора для котлована: гусеничный vs колесный, text length: 3399
